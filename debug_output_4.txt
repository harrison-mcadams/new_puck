Running season analysis for 20252026 with conditions: ['5v5', '5v4', '4v5']

=== Processing Condition: 5v5 ===
league: computing baseline for 20252026...
Loaded season dataframe from data/20252026/20252026.csv -> shape=(114335, 23)
league: Predicting xG...
league: Processing 1 teams...
INFO:root:Loaded cached shifts for game 2025010073 from data/20252026/shifts/shifts_2025010073.pkl
INFO:root:Loaded cached shifts for game 2025010090 from data/20252026/shifts/shifts_2025010090.pkl
INFO:root:Loaded cached shifts for game 2025020021 from data/20252026/shifts/shifts_2025020021.pkl
INFO:root:Loaded cached shifts for game 2025020036 from data/20252026/shifts/shifts_2025020036.pkl
INFO:root:Loaded cached shifts for game 2025020070 from data/20252026/shifts/shifts_2025020070.pkl
INFO:root:Loaded cached shifts for game 2025020056 from data/20252026/shifts/shifts_2025020056.pkl
INFO:root:Loaded cached shifts for game 2025020091 from data/20252026/shifts/shifts_2025020091.pkl
INFO:root:Loaded cached shifts for game 2025020105 from data/20252026/shifts/shifts_2025020105.pkl
INFO:root:Loaded cached shifts for game 2025020111 from data/20252026/shifts/shifts_2025020111.pkl
INFO:root:Loaded cached shifts for game 2025020129 from data/20252026/shifts/shifts_2025020129.pkl
INFO:root:Loaded cached shifts for game 2025020153 from data/20252026/shifts/shifts_2025020153.pkl
INFO:root:Loaded cached shifts for game 2025020180 from data/20252026/shifts/shifts_2025020180.pkl
INFO:root:Loaded cached shifts for game 2025020224 from data/20252026/shifts/shifts_2025020224.pkl
INFO:root:Loaded cached shifts for game 2025020197 from data/20252026/shifts/shifts_2025020197.pkl
INFO:root:Loaded cached shifts for game 2025020211 from data/20252026/shifts/shifts_2025020211.pkl
INFO:root:Loaded cached shifts for game 2025020242 from data/20252026/shifts/shifts_2025020242.pkl
INFO:root:Loaded cached shifts for game 2025020251 from data/20252026/shifts/shifts_2025020251.pkl
INFO:root:Loaded cached shifts for game 2025020262 from data/20252026/shifts/shifts_2025020262.pkl
INFO:root:Loaded cached shifts for game 2025020272 from data/20252026/shifts/shifts_2025020272.pkl
INFO:root:Loaded cached shifts for game 2025020284 from data/20252026/shifts/shifts_2025020284.pkl
INFO:root:Loaded cached shifts for game 2025020306 from data/20252026/shifts/shifts_2025020306.pkl
INFO:root:Loaded cached shifts for game 2025020318 from data/20252026/shifts/shifts_2025020318.pkl
INFO:root:Loaded cached shifts for game 2025020329 from data/20252026/shifts/shifts_2025020329.pkl
INFO:root:Loaded cached shifts for game 2025020346 from data/20252026/shifts/shifts_2025020346.pkl
INFO:root:Loaded cached shifts for game 2025020374 from data/20252026/shifts/shifts_2025020374.pkl
INFO:root:Loaded cached shifts for game 2025020384 from data/20252026/shifts/shifts_2025020384.pkl
  File "/Users/harrisonmcadams/Desktop/new_puck/run_league_stats.py", line 48, in <module>
    league_res = analyze.league(
  File "/Users/harrisonmcadams/Desktop/new_puck/analyze.py", line 712, in league
    _, heatmaps, _, stats = xgs_map(
  File "/Users/harrisonmcadams/Desktop/new_puck/analyze.py", line 1641, in xgs_map
    traceback.print_stack()
DEBUG: analyze.league ANA t_seconds=73373.0
DEBUG: xgs_map received total_seconds=73373.0
xgs_map: using provided DataFrame (in-memory) -> rows= 114335
INFO:root:Loaded cached shifts for game 2025010073 from data/20252026/shifts/shifts_2025010073.pkl
INFO:root:Loaded cached shifts for game 2025020021 from data/20252026/shifts/shifts_2025020021.pkl
INFO:root:Loaded cached shifts for game 2025010090 from data/20252026/shifts/shifts_2025010090.pkl
INFO:root:Loaded cached shifts for game 2025020036 from data/20252026/shifts/shifts_2025020036.pkl
INFO:root:Loaded cached shifts for game 2025020056 from data/20252026/shifts/shifts_2025020056.pkl
INFO:root:Loaded cached shifts for game 2025020070 from data/20252026/shifts/shifts_2025020070.pkl
INFO:root:Loaded cached shifts for game 2025020091 from data/20252026/shifts/shifts_2025020091.pkl
INFO:root:Loaded cached shifts for game 2025020105 from data/20252026/shifts/shifts_2025020105.pkl
INFO:root:Loaded cached shifts for game 2025020111 from data/20252026/shifts/shifts_2025020111.pkl
INFO:root:Loaded cached shifts for game 2025020129 from data/20252026/shifts/shifts_2025020129.pkl
INFO:root:Loaded cached shifts for game 2025020153 from data/20252026/shifts/shifts_2025020153.pkl
INFO:root:Loaded cached shifts for game 2025020180 from data/20252026/shifts/shifts_2025020180.pkl
INFO:root:Loaded cached shifts for game 2025020197 from data/20252026/shifts/shifts_2025020197.pkl
INFO:root:Loaded cached shifts for game 2025020211 from data/20252026/shifts/shifts_2025020211.pkl
INFO:root:Loaded cached shifts for game 2025020224 from data/20252026/shifts/shifts_2025020224.pkl
INFO:root:Loaded cached shifts for game 2025020242 from data/20252026/shifts/shifts_2025020242.pkl
INFO:root:Loaded cached shifts for game 2025020251 from data/20252026/shifts/shifts_2025020251.pkl
INFO:root:Loaded cached shifts for game 2025020262 from data/20252026/shifts/shifts_2025020262.pkl
INFO:root:Loaded cached shifts for game 2025020272 from data/20252026/shifts/shifts_2025020272.pkl
INFO:root:Loaded cached shifts for game 2025020284 from data/20252026/shifts/shifts_2025020284.pkl
INFO:root:Loaded cached shifts for game 2025020306 from data/20252026/shifts/shifts_2025020306.pkl
INFO:root:Loaded cached shifts for game 2025020318 from data/20252026/shifts/shifts_2025020318.pkl
INFO:root:Loaded cached shifts for game 2025020329 from data/20252026/shifts/shifts_2025020329.pkl
INFO:root:Loaded cached shifts for game 2025020346 from data/20252026/shifts/shifts_2025020346.pkl
INFO:root:Loaded cached shifts for game 2025020374 from data/20252026/shifts/shifts_2025020374.pkl
INFO:root:Loaded cached shifts for game 2025020384 from data/20252026/shifts/shifts_2025020384.pkl
_apply_intervals: intervals per_game count=26
_apply_intervals: game 2025010073 rows_in_game=224 parsed_intervals=10 team_for_game=ANA
_apply_intervals: game 2025010073 df_game_rows=224
_apply_intervals: game 2025020056 rows_in_game=261 parsed_intervals=7 team_for_game=ANA
_apply_intervals: game 2025020056 df_game_rows=261
_apply_intervals: game 2025020021 rows_in_game=310 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020021 df_game_rows=310
_apply_intervals: game 2025010090 rows_in_game=287 parsed_intervals=8 team_for_game=ANA
_apply_intervals: game 2025010090 df_game_rows=287
_apply_intervals: game 2025020036 rows_in_game=294 parsed_intervals=10 team_for_game=ANA
_apply_intervals: game 2025020036 df_game_rows=294
_apply_intervals: game 2025020091 rows_in_game=296 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020091 df_game_rows=296
_apply_intervals: game 2025020105 rows_in_game=285 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020105 df_game_rows=285
_apply_intervals: game 2025020070 rows_in_game=291 parsed_intervals=8 team_for_game=ANA
_apply_intervals: game 2025020070 df_game_rows=291
_apply_intervals: game 2025020111 rows_in_game=309 parsed_intervals=7 team_for_game=ANA
_apply_intervals: game 2025020111 df_game_rows=309
_apply_intervals: game 2025020129 rows_in_game=316 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020129 df_game_rows=316
_apply_intervals: game 2025020153 rows_in_game=297 parsed_intervals=8 team_for_game=ANA
_apply_intervals: game 2025020153 df_game_rows=297
_apply_intervals: game 2025020180 rows_in_game=286 parsed_intervals=11 team_for_game=ANA
_apply_intervals: game 2025020180 df_game_rows=286
_apply_intervals: game 2025020197 rows_in_game=268 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020197 df_game_rows=268
_apply_intervals: game 2025020211 rows_in_game=294 parsed_intervals=10 team_for_game=ANA
_apply_intervals: game 2025020211 df_game_rows=294
_apply_intervals: game 2025020224 rows_in_game=264 parsed_intervals=11 team_for_game=ANA
_apply_intervals: game 2025020224 df_game_rows=264
_apply_intervals: game 2025020242 rows_in_game=298 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020242 df_game_rows=298
_apply_intervals: game 2025020284 rows_in_game=259 parsed_intervals=9 team_for_game=ANA
_apply_intervals: game 2025020284 df_game_rows=259
_apply_intervals: game 2025020251 rows_in_game=278 parsed_intervals=9 team_for_game=ANA
_apply_intervals: game 2025020251 df_game_rows=278
_apply_intervals: game 2025020262 rows_in_game=296 parsed_intervals=9 team_for_game=ANA
_apply_intervals: game 2025020262 df_game_rows=296
_apply_intervals: game 2025020272 rows_in_game=297 parsed_intervals=16 team_for_game=ANA
_apply_intervals: game 2025020272 df_game_rows=297
_apply_intervals: game 2025020306 rows_in_game=254 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020306 df_game_rows=254
_apply_intervals: game 2025020318 rows_in_game=321 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020318 df_game_rows=321
_apply_intervals: game 2025020329 rows_in_game=280 parsed_intervals=7 team_for_game=ANA
_apply_intervals: game 2025020329 df_game_rows=280
_apply_intervals: game 2025020346 rows_in_game=296 parsed_intervals=7 team_for_game=ANA
_apply_intervals: game 2025020346 df_game_rows=296
_apply_intervals: game 2025020374 rows_in_game=304 parsed_intervals=11 team_for_game=ANA
_apply_intervals: game 2025020374 df_game_rows=304
_apply_intervals: game 2025020384 rows_in_game=282 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020384 df_game_rows=282
Filtered season dataframe to 5748 events by condition {'game_state': ['5v5'], 'is_net_empty': [0], 'team': 'ANA'} team='ANA'
DEBUG: xgs_map post-filter total_seconds=73373.0 type=<class 'float'>
DEBUG: xgs_map df_filtered unique teams: [28 24  5 55 26 16 18 12  6 14 13 17  1 25 54 30 52 21 68  9 23] (condition={'game_state': ['5v5'], 'is_net_empty': [0], 'team': 'ANA'})
DEBUG: xgs_map pre-inference total_seconds=None type=<class 'NoneType'>
DEBUG: xgs_map total_seconds_used is None, inferring...
DEBUG: Inferred total_seconds_used=93600.0 from 26 games (range=3600.0)
DEBUG: xgs_map pre-inference total_seconds=None type=<class 'NoneType'>
DEBUG: xgs_map total_seconds_used is None, inferring...
DEBUG: Inferred total_seconds_used=93600.0 from 26 games (range=3600.0)
league: Merged 2 teams into summary (updated 1 teams).
league: Baseline saved to static/league/20252026/5v5
--- Team Analysis (5v5) for 1 teams ---

=== Processing Condition: 5v4 ===
league: computing baseline for 20252026...
Loaded season dataframe from data/20252026/20252026.csv -> shape=(114335, 23)
league: Predicting xG...
league: Processing 1 teams...
INFO:root:Loaded cached shifts for game 2025020070 from data/20252026/shifts/shifts_2025020070.pkl
INFO:root:Loaded cached shifts for game 2025020091 from data/20252026/shifts/shifts_2025020091.pkl
INFO:root:Loaded cached shifts for game 2025010073 from data/20252026/shifts/shifts_2025010073.pkl
INFO:root:Loaded cached shifts for game 2025010090 from data/20252026/shifts/shifts_2025010090.pkl
INFO:root:Loaded cached shifts for game 2025020056 from data/20252026/shifts/shifts_2025020056.pkl
INFO:root:Loaded cached shifts for game 2025020021 from data/20252026/shifts/shifts_2025020021.pkl
INFO:root:Loaded cached shifts for game 2025020036 from data/20252026/shifts/shifts_2025020036.pkl
INFO:root:Loaded cached shifts for game 2025020105 from data/20252026/shifts/shifts_2025020105.pkl
INFO:root:Loaded cached shifts for game 2025020111 from data/20252026/shifts/shifts_2025020111.pkl
INFO:root:Loaded cached shifts for game 2025020129 from data/20252026/shifts/shifts_2025020129.pkl
INFO:root:Loaded cached shifts for game 2025020153 from data/20252026/shifts/shifts_2025020153.pkl
INFO:root:Loaded cached shifts for game 2025020180 from data/20252026/shifts/shifts_2025020180.pkl
INFO:root:Loaded cached shifts for game 2025020197 from data/20252026/shifts/shifts_2025020197.pkl
INFO:root:Loaded cached shifts for game 2025020211 from data/20252026/shifts/shifts_2025020211.pkl
INFO:root:Loaded cached shifts for game 2025020224 from data/20252026/shifts/shifts_2025020224.pkl
INFO:root:Loaded cached shifts for game 2025020242 from data/20252026/shifts/shifts_2025020242.pkl
INFO:root:Loaded cached shifts for game 2025020251 from data/20252026/shifts/shifts_2025020251.pkl
INFO:root:Loaded cached shifts for game 2025020262 from data/20252026/shifts/shifts_2025020262.pkl
INFO:root:Loaded cached shifts for game 2025020272 from data/20252026/shifts/shifts_2025020272.pkl
INFO:root:Loaded cached shifts for game 2025020284 from data/20252026/shifts/shifts_2025020284.pkl
INFO:root:Loaded cached shifts for game 2025020306 from data/20252026/shifts/shifts_2025020306.pkl
INFO:root:Loaded cached shifts for game 2025020318 from data/20252026/shifts/shifts_2025020318.pkl
INFO:root:Loaded cached shifts for game 2025020329 from data/20252026/shifts/shifts_2025020329.pkl
INFO:root:Loaded cached shifts for game 2025020346 from data/20252026/shifts/shifts_2025020346.pkl
INFO:root:Loaded cached shifts for game 2025020374 from data/20252026/shifts/shifts_2025020374.pkl
INFO:root:Loaded cached shifts for game 2025020384 from data/20252026/shifts/shifts_2025020384.pkl
  File "/Users/harrisonmcadams/Desktop/new_puck/run_league_stats.py", line 48, in <module>
    league_res = analyze.league(
  File "/Users/harrisonmcadams/Desktop/new_puck/analyze.py", line 712, in league
    _, heatmaps, _, stats = xgs_map(
  File "/Users/harrisonmcadams/Desktop/new_puck/analyze.py", line 1641, in xgs_map
    traceback.print_stack()
DEBUG: analyze.league ANA t_seconds=7827.0
DEBUG: xgs_map received total_seconds=7827.0
xgs_map: using provided DataFrame (in-memory) -> rows= 114335
INFO:root:Loaded cached shifts for game 2025010073 from data/20252026/shifts/shifts_2025010073.pkl
INFO:root:Loaded cached shifts for game 2025010090 from data/20252026/shifts/shifts_2025010090.pkl
INFO:root:Loaded cached shifts for game 2025020021 from data/20252026/shifts/shifts_2025020021.pkl
INFO:root:Loaded cached shifts for game 2025020036 from data/20252026/shifts/shifts_2025020036.pkl
INFO:root:Loaded cached shifts for game 2025020056 from data/20252026/shifts/shifts_2025020056.pkl
INFO:root:Loaded cached shifts for game 2025020070 from data/20252026/shifts/shifts_2025020070.pkl
INFO:root:Loaded cached shifts for game 2025020091 from data/20252026/shifts/shifts_2025020091.pkl
INFO:root:Loaded cached shifts for game 2025020105 from data/20252026/shifts/shifts_2025020105.pkl
INFO:root:Loaded cached shifts for game 2025020111 from data/20252026/shifts/shifts_2025020111.pkl
INFO:root:Loaded cached shifts for game 2025020129 from data/20252026/shifts/shifts_2025020129.pkl
INFO:root:Loaded cached shifts for game 2025020153 from data/20252026/shifts/shifts_2025020153.pkl
INFO:root:Loaded cached shifts for game 2025020180 from data/20252026/shifts/shifts_2025020180.pkl
INFO:root:Loaded cached shifts for game 2025020211 from data/20252026/shifts/shifts_2025020211.pkl
INFO:root:Loaded cached shifts for game 2025020197 from data/20252026/shifts/shifts_2025020197.pkl
INFO:root:Loaded cached shifts for game 2025020224 from data/20252026/shifts/shifts_2025020224.pkl
INFO:root:Loaded cached shifts for game 2025020242 from data/20252026/shifts/shifts_2025020242.pkl
INFO:root:Loaded cached shifts for game 2025020251 from data/20252026/shifts/shifts_2025020251.pkl
INFO:root:Loaded cached shifts for game 2025020262 from data/20252026/shifts/shifts_2025020262.pkl
INFO:root:Loaded cached shifts for game 2025020306 from data/20252026/shifts/shifts_2025020306.pkl
INFO:root:Loaded cached shifts for game 2025020272 from data/20252026/shifts/shifts_2025020272.pkl
INFO:root:Loaded cached shifts for game 2025020284 from data/20252026/shifts/shifts_2025020284.pkl
INFO:root:Loaded cached shifts for game 2025020318 from data/20252026/shifts/shifts_2025020318.pkl
INFO:root:Loaded cached shifts for game 2025020329 from data/20252026/shifts/shifts_2025020329.pkl
INFO:root:Loaded cached shifts for game 2025020346 from data/20252026/shifts/shifts_2025020346.pkl
INFO:root:Loaded cached shifts for game 2025020374 from data/20252026/shifts/shifts_2025020374.pkl
INFO:root:Loaded cached shifts for game 2025020384 from data/20252026/shifts/shifts_2025020384.pkl
_apply_intervals: intervals per_game count=26
_apply_intervals: game 2025010073 rows_in_game=224 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025010073 df_game_rows=224
_apply_intervals: game 2025020091 rows_in_game=296 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020091 df_game_rows=296
_apply_intervals: game 2025020056 rows_in_game=261 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020056 df_game_rows=261
_apply_intervals: game 2025020070 rows_in_game=291 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020070 df_game_rows=291
_apply_intervals: game 2025020105 rows_in_game=285 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020105 df_game_rows=285
_apply_intervals: game 2025010090 rows_in_game=287 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025010090 df_game_rows=287
_apply_intervals: game 2025020021 rows_in_game=310 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020021 df_game_rows=310
_apply_intervals: game 2025020036 rows_in_game=294 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020036 df_game_rows=294
_apply_intervals: game 2025020111 rows_in_game=309 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020111 df_game_rows=309
_apply_intervals: game 2025020197 rows_in_game=268 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020197 df_game_rows=268
_apply_intervals: game 2025020180 rows_in_game=286 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020180 df_game_rows=286
_apply_intervals: game 2025020224 rows_in_game=264 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020224 df_game_rows=264
_apply_intervals: game 2025020129 rows_in_game=316 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020129 df_game_rows=316
_apply_intervals: game 2025020153 rows_in_game=297 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020153 df_game_rows=297
_apply_intervals: game 2025020211 rows_in_game=294 parsed_intervals=7 team_for_game=ANA
_apply_intervals: game 2025020211 df_game_rows=294
_apply_intervals: game 2025020242 rows_in_game=298 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020242 df_game_rows=298
_apply_intervals: game 2025020284 rows_in_game=259 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020284 df_game_rows=259
_apply_intervals: game 2025020251 rows_in_game=278 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020251 df_game_rows=278
_apply_intervals: game 2025020318 rows_in_game=321 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020318 df_game_rows=321
_apply_intervals: game 2025020272 rows_in_game=297 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020272 df_game_rows=297
_apply_intervals: game 2025020306 rows_in_game=254 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020306 df_game_rows=254
_apply_intervals: game 2025020262 rows_in_game=296 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020262 df_game_rows=296
_apply_intervals: game 2025020329 rows_in_game=280 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020329 df_game_rows=280
_apply_intervals: game 2025020346 rows_in_game=296 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020346 df_game_rows=296
_apply_intervals: game 2025020384 rows_in_game=282 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020384 df_game_rows=282
_apply_intervals: game 2025020374 rows_in_game=304 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020374 df_game_rows=304
Filtered season dataframe to 378 events by condition {'game_state': ['5v4'], 'is_net_empty': [0], 'team': 'ANA'} team='ANA'
DEBUG: xgs_map post-filter total_seconds=7827.0 type=<class 'float'>
DEBUG: xgs_map df_filtered unique teams: [24 28 16  5 12 18 26  6  1 17 25 14 13 54 30 52 68 21  9 23] (condition={'game_state': ['5v4'], 'is_net_empty': [0], 'team': 'ANA'})
DEBUG: xgs_map pre-inference total_seconds=None type=<class 'NoneType'>
DEBUG: xgs_map total_seconds_used is None, inferring...
DEBUG: Inferred total_seconds_used=88426.0 from 26 games (range=3401.0)
DEBUG: xgs_map pre-inference total_seconds=None type=<class 'NoneType'>
DEBUG: xgs_map total_seconds_used is None, inferring...
DEBUG: Inferred total_seconds_used=88426.0 from 26 games (range=3401.0)
league: Merged 2 teams into summary (updated 1 teams).
league: Baseline saved to static/league/20252026/5v4
--- Team Analysis (5v4) for 1 teams ---

=== Processing Condition: 4v5 ===
league: computing baseline for 20252026...
Loaded season dataframe from data/20252026/20252026.csv -> shape=(114335, 23)
league: Predicting xG...
league: Processing 1 teams...
INFO:root:Loaded cached shifts for game 2025010073 from data/20252026/shifts/shifts_2025010073.pkl
INFO:root:Loaded cached shifts for game 2025010090 from data/20252026/shifts/shifts_2025010090.pkl
INFO:root:Loaded cached shifts for game 2025020036 from data/20252026/shifts/shifts_2025020036.pkl
INFO:root:Loaded cached shifts for game 2025020056 from data/20252026/shifts/shifts_2025020056.pkl
INFO:root:Loaded cached shifts for game 2025020021 from data/20252026/shifts/shifts_2025020021.pkl
INFO:root:Loaded cached shifts for game 2025020070 from data/20252026/shifts/shifts_2025020070.pkl
INFO:root:Loaded cached shifts for game 2025020091 from data/20252026/shifts/shifts_2025020091.pkl
INFO:root:Loaded cached shifts for game 2025020105 from data/20252026/shifts/shifts_2025020105.pkl
INFO:root:Loaded cached shifts for game 2025020111 from data/20252026/shifts/shifts_2025020111.pkl
INFO:root:Loaded cached shifts for game 2025020129 from data/20252026/shifts/shifts_2025020129.pkl
INFO:root:Loaded cached shifts for game 2025020153 from data/20252026/shifts/shifts_2025020153.pkl
INFO:root:Loaded cached shifts for game 2025020180 from data/20252026/shifts/shifts_2025020180.pkl
INFO:root:Loaded cached shifts for game 2025020197 from data/20252026/shifts/shifts_2025020197.pkl
INFO:root:Loaded cached shifts for game 2025020224 from data/20252026/shifts/shifts_2025020224.pkl
INFO:root:Loaded cached shifts for game 2025020242 from data/20252026/shifts/shifts_2025020242.pkl
INFO:root:Loaded cached shifts for game 2025020211 from data/20252026/shifts/shifts_2025020211.pkl
INFO:root:Loaded cached shifts for game 2025020251 from data/20252026/shifts/shifts_2025020251.pkl
INFO:root:Loaded cached shifts for game 2025020262 from data/20252026/shifts/shifts_2025020262.pkl
INFO:root:Loaded cached shifts for game 2025020272 from data/20252026/shifts/shifts_2025020272.pkl
INFO:root:Loaded cached shifts for game 2025020284 from data/20252026/shifts/shifts_2025020284.pkl
INFO:root:Loaded cached shifts for game 2025020306 from data/20252026/shifts/shifts_2025020306.pkl
INFO:root:Loaded cached shifts for game 2025020318 from data/20252026/shifts/shifts_2025020318.pkl
INFO:root:Loaded cached shifts for game 2025020329 from data/20252026/shifts/shifts_2025020329.pkl
INFO:root:Loaded cached shifts for game 2025020346 from data/20252026/shifts/shifts_2025020346.pkl
INFO:root:Loaded cached shifts for game 2025020374 from data/20252026/shifts/shifts_2025020374.pkl
INFO:root:Loaded cached shifts for game 2025020384 from data/20252026/shifts/shifts_2025020384.pkl
  File "/Users/harrisonmcadams/Desktop/new_puck/run_league_stats.py", line 48, in <module>
    league_res = analyze.league(
  File "/Users/harrisonmcadams/Desktop/new_puck/analyze.py", line 712, in league
    _, heatmaps, _, stats = xgs_map(
  File "/Users/harrisonmcadams/Desktop/new_puck/analyze.py", line 1641, in xgs_map
    traceback.print_stack()
DEBUG: analyze.league ANA t_seconds=8032.0
DEBUG: xgs_map received total_seconds=8032.0
xgs_map: using provided DataFrame (in-memory) -> rows= 114335
INFO:root:Loaded cached shifts for game 2025010073 from data/20252026/shifts/shifts_2025010073.pkl
INFO:root:Loaded cached shifts for game 2025010090 from data/20252026/shifts/shifts_2025010090.pkl
INFO:root:Loaded cached shifts for game 2025020021 from data/20252026/shifts/shifts_2025020021.pkl
INFO:root:Loaded cached shifts for game 2025020070 from data/20252026/shifts/shifts_2025020070.pkl
INFO:root:Loaded cached shifts for game 2025020056 from data/20252026/shifts/shifts_2025020056.pkl
INFO:root:Loaded cached shifts for game 2025020036 from data/20252026/shifts/shifts_2025020036.pkl
INFO:root:Loaded cached shifts for game 2025020091 from data/20252026/shifts/shifts_2025020091.pkl
INFO:root:Loaded cached shifts for game 2025020105 from data/20252026/shifts/shifts_2025020105.pkl
INFO:root:Loaded cached shifts for game 2025020111 from data/20252026/shifts/shifts_2025020111.pkl
INFO:root:Loaded cached shifts for game 2025020129 from data/20252026/shifts/shifts_2025020129.pkl
INFO:root:Loaded cached shifts for game 2025020153 from data/20252026/shifts/shifts_2025020153.pkl
INFO:root:Loaded cached shifts for game 2025020180 from data/20252026/shifts/shifts_2025020180.pkl
INFO:root:Loaded cached shifts for game 2025020197 from data/20252026/shifts/shifts_2025020197.pkl
INFO:root:Loaded cached shifts for game 2025020211 from data/20252026/shifts/shifts_2025020211.pkl
INFO:root:Loaded cached shifts for game 2025020224 from data/20252026/shifts/shifts_2025020224.pkl
INFO:root:Loaded cached shifts for game 2025020242 from data/20252026/shifts/shifts_2025020242.pkl
INFO:root:Loaded cached shifts for game 2025020251 from data/20252026/shifts/shifts_2025020251.pkl
INFO:root:Loaded cached shifts for game 2025020262 from data/20252026/shifts/shifts_2025020262.pkl
INFO:root:Loaded cached shifts for game 2025020272 from data/20252026/shifts/shifts_2025020272.pkl
INFO:root:Loaded cached shifts for game 2025020284 from data/20252026/shifts/shifts_2025020284.pkl
INFO:root:Loaded cached shifts for game 2025020306 from data/20252026/shifts/shifts_2025020306.pkl
INFO:root:Loaded cached shifts for game 2025020318 from data/20252026/shifts/shifts_2025020318.pkl
INFO:root:Loaded cached shifts for game 2025020329 from data/20252026/shifts/shifts_2025020329.pkl
INFO:root:Loaded cached shifts for game 2025020346 from data/20252026/shifts/shifts_2025020346.pkl
INFO:root:Loaded cached shifts for game 2025020374 from data/20252026/shifts/shifts_2025020374.pkl
INFO:root:Loaded cached shifts for game 2025020384 from data/20252026/shifts/shifts_2025020384.pkl
_apply_intervals: intervals per_game count=26
_apply_intervals: game 2025010073 rows_in_game=224 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025010073 df_game_rows=224
_apply_intervals: game 2025010090 rows_in_game=287 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025010090 df_game_rows=287
_apply_intervals: game 2025020070 rows_in_game=291 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020070 df_game_rows=291
_apply_intervals: game 2025020056 rows_in_game=261 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020056 df_game_rows=261
_apply_intervals: game 2025020021 rows_in_game=310 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020021 df_game_rows=310
_apply_intervals: game 2025020105 rows_in_game=285 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020105 df_game_rows=285
_apply_intervals: game 2025020036 rows_in_game=294 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020036 df_game_rows=294
_apply_intervals: game 2025020091 rows_in_game=296 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020091 df_game_rows=296
_apply_intervals: game 2025020111 rows_in_game=309 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020111 df_game_rows=309
_apply_intervals: game 2025020129 rows_in_game=316 parsed_intervals=6 team_for_game=ANA
_apply_intervals: game 2025020129 df_game_rows=316
_apply_intervals: game 2025020153 rows_in_game=297 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020153 df_game_rows=297
_apply_intervals: game 2025020180 rows_in_game=286 parsed_intervals=7 team_for_game=ANA
_apply_intervals: game 2025020180 df_game_rows=286
_apply_intervals: game 2025020197 rows_in_game=268 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020197 df_game_rows=268
_apply_intervals: game 2025020211 rows_in_game=294 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020211 df_game_rows=294
_apply_intervals: game 2025020224 rows_in_game=264 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020224 df_game_rows=264
_apply_intervals: game 2025020242 rows_in_game=298 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020242 df_game_rows=298
_apply_intervals: game 2025020251 rows_in_game=278 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020251 df_game_rows=278
_apply_intervals: game 2025020262 rows_in_game=296 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020262 df_game_rows=296
_apply_intervals: game 2025020284 rows_in_game=259 parsed_intervals=5 team_for_game=ANA
_apply_intervals: game 2025020284 df_game_rows=259
_apply_intervals: game 2025020272 rows_in_game=297 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020272 df_game_rows=297
_apply_intervals: game 2025020318 rows_in_game=321 parsed_intervals=2 team_for_game=ANA
_apply_intervals: game 2025020318 df_game_rows=321
_apply_intervals: game 2025020306 rows_in_game=254 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020306 df_game_rows=254
_apply_intervals: game 2025020329 rows_in_game=280 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020329 df_game_rows=280
_apply_intervals: game 2025020346 rows_in_game=296 parsed_intervals=4 team_for_game=ANA
_apply_intervals: game 2025020346 df_game_rows=296
_apply_intervals: game 2025020374 rows_in_game=304 parsed_intervals=3 team_for_game=ANA
_apply_intervals: game 2025020374 df_game_rows=304
_apply_intervals: game 2025020384 rows_in_game=282 parsed_intervals=1 team_for_game=ANA
_apply_intervals: game 2025020384 df_game_rows=282
Filtered season dataframe to 423 events by condition {'game_state': ['4v5'], 'is_net_empty': [0], 'team': 'ANA'} team='ANA'
DEBUG: xgs_map post-filter total_seconds=8032.0 type=<class 'float'>
DEBUG: xgs_map df_filtered unique teams: [24 28 26 12  5 55 18 16  6 14 13 17  1 25 54 52 21 30 68  9 23] (condition={'game_state': ['4v5'], 'is_net_empty': [0], 'team': 'ANA'})
DEBUG: xgs_map pre-inference total_seconds=None type=<class 'NoneType'>
DEBUG: xgs_map total_seconds_used is None, inferring...
DEBUG: Inferred total_seconds_used=86684.0 from 26 games (range=3334.0)
DEBUG: xgs_map pre-inference total_seconds=None type=<class 'NoneType'>
DEBUG: xgs_map total_seconds_used is None, inferring...
DEBUG: Inferred total_seconds_used=86684.0 from 26 games (range=3334.0)
league: Merged 2 teams into summary (updated 1 teams).
league: Baseline saved to static/league/20252026/4v5
--- Team Analysis (4v5) for 1 teams ---

=== Generating Special Teams Plots ===
Generating Special Teams plots for 1 teams...
Special Teams plots saved to static/league/20252026/SpecialTeams
Season analysis complete.
